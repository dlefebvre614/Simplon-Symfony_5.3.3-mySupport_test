<!DOCTYPE html>
<html lang="en">
	<head>
		{% block meta %}
			<meta charset="utf-8"/>
			<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
			<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
			<meta name="description" content=""/>
			<meta name="author" content=""/>
		{% endblock %}

		{% block meta_comp %}
        {% endblock %}

		<title>
			{% block title %}Administrator - mySupport
			{% endblock %}
		</title>

		{% block stylesheets %}
			{#{{ encore_entry_link_tags('app') }}#}
			<link
			rel="icon" type="image/x-icon" href="{{ asset('clean/assets/favicon.ico') }}"/>
		{% endblock %}

		{% block stylesheets_comp %}
        {% endblock %}

		{% block head_js %}
            <!-- Font Awesome icons (free version)-->
			<script src="{{ asset('sb-admin/font-awesome/js/all.min.js') }}" crossorigin="anonymous"></script>
		{% endblock %}

		{% block head_js_comp %}
        {% endblock %}

		{% block head_css %}
			<link href="{{ asset('sb-admin/npm/simple-datatables@latest_style.css') }}" rel="stylesheet"/>
			<link
			href="{{ asset('sb-admin/css/styles.css') }}" rel="stylesheet"/>
		<!-- Core theme CSS (includes Bootstrap)-->
		{% endblock %}

		{% block head_css_comp %}
        {% endblock %}

	</head>

    <body class="sb-nav-fixed">
		{# Run `composer require symfony/webpack-encore-bundle`
		and uncomment the following Encore helpers to start using Symfony UX #}

		{# Navbar #}
		{% include "shared/sb-admin/_navbar.html.twig" %}
        
        <div id="layoutSidenav">
            <div id="layoutSidenav_content">
            
                {% block side_nav %}
                    {% include "shared/sb-admin/_sidenav.html.twig" %}
                {% endblock %}

				{% for flashError in app.flashes('verify_email_error') %}
					<main class="mb-4">
						<div class="container mt-3 px-4 px-lg-5">
							<div class="row gx-4 gx-lg-5 justify-content-center">
								<div class="col-md-10 col-lg-8 col-xl-7">
									<div class="alert alert-danger" role="alert">{{ flashError }}</div>
								</div>
							</div>
						</div>
					</main>
				{% endfor %}

				{% for flashSuccess in app.flashes('success') %}
					<main class="mb-4">
						<div class="container mt-3 px-4 px-lg-5">
							<div class="row gx-4 gx-lg-5 justify-content-center">
								<div class="col-md-10 col-lg-8 col-xl-7">
									<div class="alert alert-success" role="alert">{{ flashSuccess }}</div>
								</div>
							</div>
						</div>
					</main>
				{% endfor %}

                {% block main %}
                    {#{% include "shared/sb-admin/_main.html.twig" %}#}
                <main>
                    <div class="container-fluid px-4">
                        {% block title_main %}{% include "shared/sb-admin/_title_main.html.twig" %}{% endblock %}
                        {% block card_main %}{% include "shared/sb-admin/_card.html.twig" %}{% endblock %}
                        {% block chart_main %}{% include "shared/sb-admin/_chart.html.twig" %}{% endblock %}
                        {% block table_main %}{% include "shared/sb-admin/_table.html.twig" %}{% endblock %}
                    </div>
                </main>
                {% endblock %}

                {% block footer %}
            	    {% include "shared/sb-admin/_footer.html.twig" %}
                {% endblock %}
            </div>
        </div>

        {% block footer_comp %}
		{% endblock %}
        
        {% block footer_js %}
			{#{{ encore_entry_script_tags('app') }}#}
                <script src="{{ asset('sb-admin/js/bootstrap.bundle.min.js') }}" crossorigin="anonymous"></script>
                <script src="{{ asset('sb-admin/js/scripts.js') }}"></script>
                <script src="{{ asset('sb-admin/js/Chart.min.js') }}" crossorigin="anonymous"></script>
                <script src="{{ asset('sb-admin/assets/demo/chart-area-demo.js') }}"></script>
                <script src="{{ asset('sb-admin/assets/demo/chart-bar-demo.js') }}"></script>
                <script src="{{ asset('sb-admin/npm/simple-datatables@latest.js') }}" crossorigin="anonymous"></script>
                <script src="{{ asset('sb-admin/js/datatables-simple-demo.js') }}"></script>
		{% endblock %}

                    {% block footer_js_comp %}
                    <script>
                        window.onload = () => { // console.log("coucou")
                            let activate = document.querySelectorAll("[type=checkbox]")
                            //console.log(activate)
                            for (let button of activate) { // console.log(button)
                                button.addEventListener("click", function () {
                                    // console.log("Clic !")
                                    // alert("Clic !")
                                    let xmlhttp = new XMLHttpRequest
                                    xmlhttp.open("get", `${this.dataset.id}`)
                                    xmlhttp.send()
                                    // . then (data ==> console(data.data))
                                })
                            }
                        }
                    </script>
                    {% endblock %}

	</body>
</html>
